<html>
<head>
<title>Gameutils.js canvas resizing example</title>
<script src="../canvasresizer.js"></script>
<script>
'use strict';

var ctx;
var resizer;
var pos = {x: 37.5, y: 37.5};

var frame = function() {
    resizer.render();
    ctx.fillStyle = '#fff';
    ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);
    ctx.fillStyle = '#000';
    ctx.fillRect(Math.round(pos.x - 12.5), Math.round(pos.y - 12.5), 25, 25);
    requestAnimationFrame(frame);
};

var eventListener = function(event) {
    pos = resizer.getCanvasPosition(event);
};

var start = function() {
    var parent = document.getElementById('canvasContainer');
    resizer = new CanvasResizer({
        mode: CanvasResizer.Mode.FIXED_RESOLUTION,
        width: 320,
        height: 180,
        parentElement: parent
    });
    var canvas = resizer.getCanvas();
    ctx = canvas.getContext('2d');
    canvas.addEventListener('click', eventListener);
    canvas.addEventListener('touchmove', eventListener);
    frame();
};
</script>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
</head>
<body onload="start()">
<p>This example illustrates how to use the CanvasResizer class of gameutils.js.</p>
<p>Try clicking or touching on the canvas, or resizing the browser window.</p>
<p>Compatibility: Chrome 41 (full), Firefox 36 (no pixelated rendering), IE 11 (no pixelated rendering).</p>
<div id="canvasContainer" style="width: 90%; height: 600px; background: #000; border: 3px solid #08d;"></div>
<input type="button" value="Set mode to FIXED_RESOLUTION"
    onclick="resizer.changeMode(CanvasResizer.Mode.FIXED_RESOLUTION)"></input>
<input type="button" value="Set mode to FIXED_RESOLUTION_INTERPOLATED"
    onclick="resizer.changeMode(CanvasResizer.Mode.FIXED_RESOLUTION_INTERPOLATED)"></input>
<input type="button" value="Set mode to FIXED_ASPECT_RATIO"
    onclick="resizer.changeMode(CanvasResizer.Mode.FIXED_ASPECT_RATIO)"></input>
<input type="button" value="Set mode to DYNAMIC"
    onclick="resizer.changeMode(CanvasResizer.Mode.DYNAMIC)"></input>
</body>
</html>